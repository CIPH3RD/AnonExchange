<!DOCTYPE html>
<html data-theme="{{ .theme }}">
    <head>
        <title>{{ .title }}</title>
        <link rel="stylesheet" href="/static/question.css" />
        <link rel="stylesheet" href="/static/globals.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'none'; style-src 'self'; script-src 'none'; img-src {{ .imagePolicy }};"
        />
        <link rel="icon" href="/static/codecircles.png" />
        <meta name="theme-color" content="#8CFFC1" />
        <meta name="og:image" content="/static/codecircles.png" />
        <meta name="description" content="{{ .shortenedBody }}..." />
    </head>
    <body>
        <div class="parent">
            <div class="header">
                <a href="/" class="logo-link">
                    <img
                        class="logo"
                        src="/static/codecircles.png"
                        alt="4 circles with alternating colors between green and white"
                    />
                </a>
                <div class="icon">
                    <a href="/options/theme?redirect_url={{ .currentUrl }}">
                        <img src="/static/icons/{{ if eq .theme "dark" }}sun{{
                        else }}moon{{ end }}.svg" alt="Toggle theme" />
                    </a>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <h1>{{ .title }}</h1>
                    <p class="timestamp">
                        Asked {{ .timestamp }} by
                        <a
                            href="https://stackoverflow.com{{ .authorURL }}"
                            target="_blank"
                            rel="noopener noreferrer"
                            >{{ .author }}</a
                        >.
                    </p>
                </div>
                <div class="card-body">{{ .body }}</div>
            </div>
            <hr />
            <h2>Answers</h2>
            {{ range $answer := .answers }}
            <div class="answer">{{ $answer }}</div>
            <hr class="answer-divider" />
            {{ end }}
        </div>
    </body>
</html>
